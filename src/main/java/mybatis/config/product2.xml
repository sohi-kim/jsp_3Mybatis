<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
   PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="tblproduct"> <!-- 식별자를 작명해야 합니다. -->
	<!-- select 는 반드시 resultType 이 "필수" 입니다. : 대부분 VO (받아와야 하는게 많아서)
		 select 는 parameterType 은 where 조건식에 따라서 결정됩니다. 
		 
		 insert, update, delete 는 parameterType 이 "필수" 입니다.
		 insert, update, delete 는 resultType 없습니다. 
		 insert, update 는 parameterType 이 대부분 VO 입니다. 
	-->
	<select id="searchByKeyword" parameterType="String" 
				resultType="ProductVo">
		SELECT * 
		FROM TBL_PRODUCT 
		WHERE pname LIKE '%' || #{keyword} || '%'
	</select>
	
	
	<select id="selectByPk" parameterType="String" 
				resultType="ProductVo"><!-- parameterType : 입력, resultType : 출력 -->
		select * from tbl_product
		where pcode = #{pcode}
	</select>

	<!-- 리턴타입이 List 일때에는 제너틱타입만 설정하면 됩니다. --><!-- 매개변수(where 조건식)가 없어서 parameterType 이 없다. -->
	<select id="selectAll" resultType="ProductVo">
		select * from tbl_product 
		order by category, pname
	</select>
	
	<!--  insert, update, delete 는 리턴타입 지정안합니다.(그래도 값은 리턴해 줍니다.) -->
	<insert id="insert" parameterType="ProductVo">
		insert into tbl_product(pcode, category, pname, price) 
        values (#{pcode}, #{category}, #{pname}, #{price})
	</insert>
	
	<update id="update" parameterType="ProductVo">
		update tbl_product 
		set pname = #{pname}, price = #{price} 
		where pcode = #{pcode}
	</update>
	
	<delete id="delete" parameterType="String">
		delete from tbl_product 
		where pcode = #{pcode}
	</delete>


</mapper>  




